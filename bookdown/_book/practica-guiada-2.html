<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>4.2 Práctica Guiada | Notas de clase del curso de introducción a Data Science</title>
  <meta name="description" content="desarrollado para el Min. de Transporte (Argentina)">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="4.2 Práctica Guiada | Notas de clase del curso de introducción a Data Science" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="desarrollado para el Min. de Transporte (Argentina)" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.2 Práctica Guiada | Notas de clase del curso de introducción a Data Science" />
  
  <meta name="twitter:description" content="desarrollado para el Min. de Transporte (Argentina)" />
  

<meta name="author" content="Diego Kozlowski y Natsumi Shokida">


<meta name="date" content="2019-08-30">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="explicacion-2.html">
<link rel="next" href="documentacion.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Introducción a Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introducción</a><ul>
<li class="chapter" data-level="1.1" data-path="presentacion.html"><a href="presentacion.html"><i class="fa fa-check"></i><b>1.1</b> Presentación</a></li>
<li class="chapter" data-level="1.2" data-path="objetivos-del-curso.html"><a href="objetivos-del-curso.html"><i class="fa fa-check"></i><b>1.2</b> Objetivos del curso</a></li>
<li class="chapter" data-level="1.3" data-path="temario.html"><a href="temario.html"><i class="fa fa-check"></i><b>1.3</b> Temario</a><ul>
<li class="chapter" data-level="1.3.1" data-path="temario.html"><a href="temario.html#clase-1-introduccion-al-entorno-r"><i class="fa fa-check"></i><b>1.3.1</b> <strong>clase 1</strong>: Introducción al entorno R:</a></li>
<li class="chapter" data-level="1.3.2" data-path="temario.html"><a href="temario.html#clase-2-tidyverse"><i class="fa fa-check"></i><b>1.3.2</b> <strong>clase 2</strong>: Tidyverse:</a></li>
<li class="chapter" data-level="1.3.3" data-path="temario.html"><a href="temario.html#clase-3-estadistica-descriptiva"><i class="fa fa-check"></i><b>1.3.3</b> <strong>clase 3</strong>: Estadística descriptiva</a></li>
<li class="chapter" data-level="1.3.4" data-path="temario.html"><a href="temario.html#clase-4-visualizacion-de-la-informacion"><i class="fa fa-check"></i><b>1.3.4</b> <strong>clase 4</strong>: Visualización de la información</a></li>
<li class="chapter" data-level="1.3.5" data-path="temario.html"><a href="temario.html#clase-5-documentacion-en-r"><i class="fa fa-check"></i><b>1.3.5</b> <strong>clase 5</strong>: Documentación en R</a></li>
<li class="chapter" data-level="1.3.6" data-path="temario.html"><a href="temario.html#clase-6-analisis-de-encuestas"><i class="fa fa-check"></i><b>1.3.6</b> <strong>clase 6</strong>: Análisis de encuestas</a></li>
<li class="chapter" data-level="1.3.7" data-path="temario.html"><a href="temario.html#clase-7-programacion-funcional"><i class="fa fa-check"></i><b>1.3.7</b> <strong>clase 7</strong>: Programación funcional</a></li>
<li class="chapter" data-level="1.3.8" data-path="temario.html"><a href="temario.html#clase-8-mapas"><i class="fa fa-check"></i><b>1.3.8</b> <strong>clase 8</strong>: Mapas</a></li>
<li class="chapter" data-level="1.3.9" data-path="temario.html"><a href="temario.html#clase-9-shiny"><i class="fa fa-check"></i><b>1.3.9</b> <strong>clase 9</strong>: Shiny</a></li>
<li class="chapter" data-level="1.3.10" data-path="temario.html"><a href="temario.html#clase-10-correlacion-y-modelo-lineal"><i class="fa fa-check"></i><b>1.3.10</b> <strong>clase 10</strong>: Correlación y Modelo Lineal</a></li>
<li class="chapter" data-level="1.3.11" data-path="temario.html"><a href="temario.html#clase-11-text-mining"><i class="fa fa-check"></i><b>1.3.11</b> <strong>clase 11</strong>: Text Mining</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="bibliografia-de-consulta.html"><a href="bibliografia-de-consulta.html"><i class="fa fa-check"></i><b>1.4</b> Bibliografía de consulta</a><ul>
<li class="chapter" data-level="1.4.1" data-path="bibliografia-de-consulta.html"><a href="bibliografia-de-consulta.html#librerias-a-instalar"><i class="fa fa-check"></i><b>1.4.1</b> Librerias a instalar</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduccion-a-r.html"><a href="introduccion-a-r.html"><i class="fa fa-check"></i><b>2</b> Introducción a R</a><ul>
<li class="chapter" data-level="2.1" data-path="explicacion.html"><a href="explicacion.html"><i class="fa fa-check"></i><b>2.1</b> Explicación</a><ul>
<li class="chapter" data-level="2.1.1" data-path="explicacion.html"><a href="explicacion.html#que-es-r"><i class="fa fa-check"></i><b>2.1.1</b> ¿Qué es R?</a></li>
<li class="chapter" data-level="2.1.2" data-path="explicacion.html"><a href="explicacion.html#logica-sintactica."><i class="fa fa-check"></i><b>2.1.2</b> Lógica sintáctica.</a></li>
<li class="chapter" data-level="2.1.3" data-path="explicacion.html"><a href="explicacion.html#r-base"><i class="fa fa-check"></i><b>2.1.3</b> R base</a></li>
<li class="chapter" data-level="2.1.4" data-path="explicacion.html"><a href="explicacion.html#objetos"><i class="fa fa-check"></i><b>2.1.4</b> Objetos:</a></li>
<li class="chapter" data-level="2.1.5" data-path="explicacion.html"><a href="explicacion.html#data-frames"><i class="fa fa-check"></i><b>2.1.5</b> Data Frames</a></li>
<li class="chapter" data-level="2.1.6" data-path="explicacion.html"><a href="explicacion.html#listas"><i class="fa fa-check"></i><b>2.1.6</b> Listas</a></li>
<li class="chapter" data-level="2.1.7" data-path="explicacion.html"><a href="explicacion.html#ambientes-de-trabajo"><i class="fa fa-check"></i><b>2.1.7</b> Ambientes de trabajo</a></li>
<li class="chapter" data-level="2.1.8" data-path="explicacion.html"><a href="explicacion.html#tipos-de-archivos-de-r"><i class="fa fa-check"></i><b>2.1.8</b> Tipos de archivos de R</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="practica-guiada.html"><a href="practica-guiada.html"><i class="fa fa-check"></i><b>2.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="2.2.1" data-path="practica-guiada.html"><a href="practica-guiada.html#instalacion-de-paquetes-complementarios-al-r-base"><i class="fa fa-check"></i><b>2.2.1</b> Instalación de paquetes complementarios al R Base</a></li>
<li class="chapter" data-level="2.2.2" data-path="practica-guiada.html"><a href="practica-guiada.html#lectura-y-escritura-de-archivos"><i class="fa fa-check"></i><b>2.2.2</b> Lectura y escritura de archivos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="probabilidad-y-estadistica.html"><a href="probabilidad-y-estadistica.html"><i class="fa fa-check"></i><b>3</b> Probabilidad y Estadística</a><ul>
<li class="chapter" data-level="3.1" data-path="explicacion-1.html"><a href="explicacion-1.html"><i class="fa fa-check"></i><b>3.1</b> Explicación</a><ul>
<li class="chapter" data-level="3.1.1" data-path="explicacion-1.html"><a href="explicacion-1.html#probabilidad"><i class="fa fa-check"></i><b>3.1.1</b> Probabilidad</a></li>
<li class="chapter" data-level="3.1.2" data-path="explicacion-1.html"><a href="explicacion-1.html#estadistica"><i class="fa fa-check"></i><b>3.1.2</b> Estadística</a></li>
<li class="chapter" data-level="3.1.3" data-path="explicacion-1.html"><a href="explicacion-1.html#algunos-estimadores-importantes"><i class="fa fa-check"></i><b>3.1.3</b> Algunos estimadores importantes</a></li>
<li class="chapter" data-level="3.1.4" data-path="explicacion-1.html"><a href="explicacion-1.html#graficos-estadisticos"><i class="fa fa-check"></i><b>3.1.4</b> Gráficos estadísticos</a></li>
<li class="chapter" data-level="3.1.5" data-path="explicacion-1.html"><a href="explicacion-1.html#bibliografia-de-consulta-1"><i class="fa fa-check"></i><b>3.1.5</b> Bibliografía de consulta</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html"><i class="fa fa-check"></i><b>3.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="3.2.1" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#generacion-de-datos-aleatorios"><i class="fa fa-check"></i><b>3.2.1</b> Generación de datos aleatorios</a></li>
<li class="chapter" data-level="3.2.2" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#tests"><i class="fa fa-check"></i><b>3.2.2</b> Tests</a></li>
<li class="chapter" data-level="3.2.3" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#descripcion-estadistica-de-los-datos"><i class="fa fa-check"></i><b>3.2.3</b> Descripción estadística de los datos</a></li>
<li class="chapter" data-level="3.2.4" data-path="practica-guiada-1.html"><a href="practica-guiada-1.html#graficos-estadisticos-1"><i class="fa fa-check"></i><b>3.2.4</b> Gráficos estadísticos</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="visualizacion-de-la-informacion.html"><a href="visualizacion-de-la-informacion.html"><i class="fa fa-check"></i><b>4</b> Visualización de la información</a><ul>
<li class="chapter" data-level="4.1" data-path="explicacion-2.html"><a href="explicacion-2.html"><i class="fa fa-check"></i><b>4.1</b> Explicación</a><ul>
<li class="chapter" data-level="4.1.1" data-path="explicacion-2.html"><a href="explicacion-2.html#graficos-basicos-en-r"><i class="fa fa-check"></i><b>4.1.1</b> Gráficos Básicos en R</a></li>
<li class="chapter" data-level="4.1.2" data-path="explicacion-2.html"><a href="explicacion-2.html#ggplot2"><i class="fa fa-check"></i><b>4.1.2</b> <span>Ggplot2</span></a></li>
<li class="chapter" data-level="4.1.3" data-path="explicacion-2.html"><a href="explicacion-2.html#dimensiones-del-grafico"><i class="fa fa-check"></i><b>4.1.3</b> Dimensiones del gráfico</a></li>
<li class="chapter" data-level="4.1.4" data-path="explicacion-2.html"><a href="explicacion-2.html#treemaps"><i class="fa fa-check"></i><b>4.1.4</b> Treemaps</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html"><i class="fa fa-check"></i><b>4.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="4.2.1" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#graficos-ingresos---eph"><i class="fa fa-check"></i><b>4.2.1</b> Graficos Ingresos - EPH</a></li>
<li class="chapter" data-level="4.2.2" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#histogramas"><i class="fa fa-check"></i><b>4.2.2</b> <span>Histogramas</span></a></li>
<li class="chapter" data-level="4.2.3" data-path="practica-guiada-2.html"><a href="practica-guiada-2.html#kernels"><i class="fa fa-check"></i><b>4.2.3</b> <span>Kernels</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="documentacion.html"><a href="documentacion.html"><i class="fa fa-check"></i><b>5</b> Documentación</a><ul>
<li class="chapter" data-level="5.1" data-path="explicacion-3.html"><a href="explicacion-3.html"><i class="fa fa-check"></i><b>5.1</b> Explicación</a></li>
<li class="chapter" data-level="5.2" data-path="practica-guiada-3.html"><a href="practica-guiada-3.html"><i class="fa fa-check"></i><b>5.2</b> Práctica Guiada</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="diseno-y-analisis-de-encuestas.html"><a href="diseno-y-analisis-de-encuestas.html"><i class="fa fa-check"></i><b>6</b> Diseño y análisis de encuestas</a><ul>
<li class="chapter" data-level="6.1" data-path="explicacion-4.html"><a href="explicacion-4.html"><i class="fa fa-check"></i><b>6.1</b> Explicación</a></li>
<li class="chapter" data-level="6.2" data-path="practica-guiada-4.html"><a href="practica-guiada-4.html"><i class="fa fa-check"></i><b>6.2</b> Práctica Guiada</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="programacion-funcional.html"><a href="programacion-funcional.html"><i class="fa fa-check"></i><b>7</b> Programacion Funcional</a><ul>
<li class="chapter" data-level="7.1" data-path="explicacion-5.html"><a href="explicacion-5.html"><i class="fa fa-check"></i><b>7.1</b> Explicación</a><ul>
<li class="chapter" data-level="7.1.1" data-path="explicacion-5.html"><a href="explicacion-5.html#loops"><i class="fa fa-check"></i><b>7.1.1</b> Loops</a></li>
<li class="chapter" data-level="7.1.2" data-path="explicacion-5.html"><a href="explicacion-5.html#estructuras-condicionales"><i class="fa fa-check"></i><b>7.1.2</b> Estructuras Condicionales</a></li>
<li class="chapter" data-level="7.1.3" data-path="explicacion-5.html"><a href="explicacion-5.html#funciones-1"><i class="fa fa-check"></i><b>7.1.3</b> Funciones</a></li>
<li class="chapter" data-level="7.1.4" data-path="explicacion-5.html"><a href="explicacion-5.html#purrr"><i class="fa fa-check"></i><b>7.1.4</b> PURRR</a></li>
<li class="chapter" data-level="7.1.5" data-path="explicacion-5.html"><a href="explicacion-5.html#funciones-implicitas"><i class="fa fa-check"></i><b>7.1.5</b> Funciones implícitas</a></li>
<li class="chapter" data-level="7.1.6" data-path="explicacion-5.html"><a href="explicacion-5.html#funciones-lambda"><i class="fa fa-check"></i><b>7.1.6</b> Funciones lambda</a></li>
<li class="chapter" data-level="7.1.7" data-path="explicacion-5.html"><a href="explicacion-5.html#walk"><i class="fa fa-check"></i><b>7.1.7</b> Walk</a></li>
<li class="chapter" data-level="7.1.8" data-path="explicacion-5.html"><a href="explicacion-5.html#cuando-usar-estas-herramientas"><i class="fa fa-check"></i><b>7.1.8</b> Cuando usar estas herramientas?</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html"><i class="fa fa-check"></i><b>7.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="7.2.1" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html#ejemplo-1-iterando-en-la-eph"><i class="fa fa-check"></i><b>7.2.1</b> Ejemplo 1: Iterando en la EPH</a></li>
<li class="chapter" data-level="7.2.2" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html#ejemplo-2.-regresion-lineal"><i class="fa fa-check"></i><b>7.2.2</b> Ejemplo 2. Regresión lineal</a></li>
<li class="chapter" data-level="7.2.3" data-path="practica-guiada-5.html"><a href="practica-guiada-5.html#ejemplo-3-graficos-en-serie"><i class="fa fa-check"></i><b>7.2.3</b> Ejemplo 3: Gráficos en serie</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="modelo-lineal.html"><a href="modelo-lineal.html"><i class="fa fa-check"></i><b>8</b> Modelo Lineal</a><ul>
<li class="chapter" data-level="8.1" data-path="explicacion-6.html"><a href="explicacion-6.html"><i class="fa fa-check"></i><b>8.1</b> Explicación</a><ul>
<li class="chapter" data-level="8.1.1" data-path="explicacion-6.html"><a href="explicacion-6.html#covarianza-y-correlacion."><i class="fa fa-check"></i><b>8.1.1</b> Covarianza y Correlación.</a></li>
<li class="chapter" data-level="8.1.2" data-path="explicacion-6.html"><a href="explicacion-6.html#modelo-lineal-1"><i class="fa fa-check"></i><b>8.1.2</b> Modelo Lineal</a></li>
<li class="chapter" data-level="8.1.3" data-path="explicacion-6.html"><a href="explicacion-6.html#regresion-lineal-multiple"><i class="fa fa-check"></i><b>8.1.3</b> Regresión lineal múltiple</a></li>
<li class="chapter" data-level="8.1.4" data-path="explicacion-6.html"><a href="explicacion-6.html#para-profundizar"><i class="fa fa-check"></i><b>8.1.4</b> Para profundizar</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html"><i class="fa fa-check"></i><b>8.2</b> Práctica Guiada</a><ul>
<li class="chapter" data-level="8.2.1" data-path="practica-guiada-6.html"><a href="practica-guiada-6.html#datos-de-properati"><i class="fa fa-check"></i><b>8.2.1</b> Datos de Properati</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/DiegoKoz/intro_ds" target="blank">Repositorio en github</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Notas de clase del curso de introducción a Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="practica-guiada-2" class="section level2">
<h2><span class="header-section-number">4.2</span> Práctica Guiada</h2>
<div id="graficos-ingresos---eph" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Graficos Ingresos - EPH</h3>
<p>Para esta práctica utilizaremos las variables de ingresos captadas por la <a href="https://www.indec.gob.ar/indec/web/Institucional-Indec-BasesDeDatos">Encuesta Permanente de Hogares</a></p>
<p>A continuación utilzaremos los conceptos abordados, para realizar gráficos a partir de las variables de ingresos.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Cargamos las librerías a utilizar</span>

<span class="kw">library</span>(tidyverse) <span class="co"># tiene ggplot, dplyr, tidyr, y otros</span>
<span class="kw">library</span>(ggthemes)  <span class="co"># estilos de gráficos</span>
<span class="kw">library</span>(ggrepel)   <span class="co"># etiquetas de texto más prolijas que las de ggplot</span></code></pre>
<pre class="sourceCode r"><code class="sourceCode r">
Individual_t119 &lt;-<span class="st"> </span><span class="kw">read.table</span>(<span class="st">&quot;../fuentes/usu_individual_t119.txt&quot;</span>,
                              <span class="dt">sep=</span><span class="st">&quot;;&quot;</span>, <span class="dt">dec=</span><span class="st">&quot;,&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>, <span class="dt">fill =</span> <span class="ot">TRUE</span>)</code></pre>
<div id="boxplot-de-ingresos-de-la-ocupacion-principal-segun-nivel-educativo" class="section level4">
<h4><span class="header-section-number">4.2.1.1</span> Boxplot de ingresos de la ocupación principal, según nivel educativo</h4>
<p>Hacemos un procesamiento simple: Sacamos los ingresos iguales a cero y las no respuestas de nivel educativo.<br />
Es importante que las variables sean del tipo que conceptualmente les corresponde (el nivel educativo es una variable categórica, no continua), para que el ggplot pueda graficarlo correctamente.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Las variables sexo( CH04 ) y Nivel educativo están codificadas como números, y el R las entiende como numéricas.</span>
<span class="kw">class</span>(Individual_t119<span class="op">$</span>NIVEL_ED)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(Individual_t119<span class="op">$</span>CH04)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">ggdata &lt;-<span class="st"> </span>Individual_t119 <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>, <span class="op">!</span><span class="kw">is.na</span>(NIVEL_ED)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">NIVEL_ED =</span> <span class="kw">as.factor</span>(NIVEL_ED),
         <span class="dt">CH04     =</span> <span class="kw">as.factor</span>(CH04))</code></pre>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(<span class="dt">x =</span> NIVEL_ED, <span class="dt">y =</span> P21)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">40000</span>))<span class="co">#Restrinjo el gráfico hasta ingresos de $40000</span></code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-73-1.png" width="960" /></p>
<p>Si queremos agregar la dimensión <em>sexo</em>, podemos hacer un <code>facet_wrap()</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(<span class="dt">x=</span> NIVEL_ED, <span class="dt">y =</span> P21, <span class="dt">group =</span> NIVEL_ED, <span class="dt">fill =</span> NIVEL_ED )) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">40000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>CH04, <span class="dt">labeller =</span> <span class="st">&quot;label_both&quot;</span>)</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-74-1.png" width="960" /></p>
<p>Por la forma en que está presentado el gráfico, el foco de atención sigue puesto en las diferencias de ingresos entre niveles educativo. Simplemente se agrega un corte por la variable de sexo.</p>
<p>Si lo que queremos hacer es poner el foco de atención en las diferencias por sexo, simplemente basta con invertir la variable x especificada con la variable utilizada en el <code>facet_wrap</code></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(ggdata, <span class="kw">aes</span>(<span class="dt">x=</span> CH04, <span class="dt">y =</span> P21, <span class="dt">group =</span> CH04, <span class="dt">fill =</span> CH04 )) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_boxplot</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">40000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_grid</span>(<span class="op">~</span><span class="st"> </span>NIVEL_ED, <span class="dt">labeller =</span> <span class="st">&quot;label_both&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;none&quot;</span>)</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-75-1.png" width="960" /></p>
</div>
</div>
<div id="histogramas" class="section level3">
<h3><span class="header-section-number">4.2.2</span> <a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">Histogramas</a></h3>
<p>Por ejemplo, si observamos el ingreso de la ocupación principal:</p>
<pre class="sourceCode r"><code class="sourceCode r">hist_data &lt;-Individual_t119 <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>) 

<span class="kw">ggplot</span>(hist_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span>
<span class="kw">geom_histogram</span>()<span class="op">+</span>
<span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-76-1.png" width="960" /></p>
<p>En este gráfico, los posibles valores de p21 se dividen en 30 <strong>bins</strong> consecutivos y el gráfico muestra cuantas observaciones caen en cada uno de ellos</p>
</div>
<div id="kernels" class="section level3">
<h3><span class="header-section-number">4.2.3</span> <a href="https://plot.ly/ggplot2/geom_density/">Kernels</a></h3>
<p>La función <code>geom_density()</code> nos permite construir <strong>kernels</strong> de la distribución. Es particularmente útil cuando tenemos una variable continua, dado que los histogramas rompen esa sensación de continuidad.</p>
<p>Veamos un ejemplo sencillo con los ingresos de la ocupación principal. Luego iremos complejizandolo</p>
<pre class="sourceCode r"><code class="sourceCode r">kernel_data &lt;-Individual_t119 <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>(P21<span class="op">&gt;</span><span class="dv">0</span>) 

<span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span>
<span class="kw">geom_density</span>()<span class="op">+</span>
<span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-77-1.png" width="960" />
<strong>El eje y no tiene demasiada interpretabilidad en los Kernel, porque hace a la forma en que se construyen las distribuciones</strong>.</p>
<p>El parametro adjust, dentro de la función <code>geom_density</code>nos permite reducir o ampliar el rango de suavizado de la distribución. Su valor por default es 1. Veamos que sucede si lo seteamos en 2</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span>
<span class="kw">geom_density</span>(<span class="dt">adjust =</span> <span class="dv">2</span>)<span class="op">+</span>
<span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-78-1.png" width="960" /></p>
<p>Como es esperable, la distribución del ingreso tiene “picos” en los valores redondos, ya que la gente suele declarar un valor aproximado al ingreso efectivo que percibe. Nadie declara ingresos de 30001. Al suavizar la serie con un kernel, eliminamos ese efecto.Si seteamos el rango para el suavizado en valores menores a 1, podemos observar estos picos.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(kernel_data, <span class="kw">aes</span>(<span class="dt">x =</span> P21,<span class="dt">weights =</span> PONDIIO))<span class="op">+</span><span class="st"> </span>
<span class="kw">geom_density</span>(<span class="dt">adjust =</span> <span class="fl">0.01</span>)<span class="op">+</span>
<span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-79-1.png" width="960" /></p>
<p>Ahora bien, como en todo grafico de R, podemos seguir agregando dimensiones para enriquecer el análisis.</p>
<pre class="sourceCode r"><code class="sourceCode r">kernel_data_<span class="dv">2</span> &lt;-<span class="st"> </span>kernel_data <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">CH04=</span> <span class="kw">case_when</span>(CH04 <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> &quot;Varon&quot;</span>,
                         CH04 <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> &quot;Mujer&quot;</span>))
  
<span class="kw">ggplot</span>(kernel_data_<span class="dv">2</span>, <span class="kw">aes</span>(<span class="dt">x =</span> P21,
  <span class="dt">weights =</span> PONDIIO,
  <span class="dt">group =</span> CH04,
  <span class="dt">fill =</span> CH04)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.7</span>,<span class="dt">adjust =</span><span class="dv">2</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Distribución del ingreso&quot;</span>, <span class="dt">y=</span><span class="st">&quot;&quot;</span>,
       <span class="dt">title=</span><span class="st">&quot; Total según tipo de ingreso y sexo&quot;</span>, 
       <span class="dt">caption =</span> <span class="st">&quot;Fuente: Encuesta Permanente de Hogares&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gdocs</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,
        <span class="dt">plot.title      =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">12</span>))</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-80-1.png" width="960" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;../resultados/Kernel_1.png&quot;</span>,<span class="dt">scale =</span> <span class="dv">2</span>)</code></pre>
<p>Podemos agregar aún la dimensión de ingreso laboral respecto del no laboral</p>
<pre class="sourceCode r"><code class="sourceCode r">kernel_data_<span class="dv">3</span> &lt;-kernel_data_<span class="dv">2</span> <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">select</span>(REGION,P47T,T_VI, TOT_P12, P21 , PONDII, CH04) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(P47T), P47T <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> ) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">mutate</span>(<span class="dt">ingreso_laboral    =</span> TOT_P12 <span class="op">+</span><span class="st"> </span>P21,
         <span class="dt">ingreso_no_laboral =</span> T_VI) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">gather</span>(., <span class="dt">key =</span> Tipo_ingreso, Ingreso, <span class="kw">c</span>((<span class="kw">ncol</span>(.)<span class="op">-</span><span class="dv">1</span>)<span class="op">:</span><span class="kw">ncol</span>(.))) <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw">filter</span>( Ingreso <span class="op">!=</span><span class="dv">0</span>)<span class="co"># Para este gráfico, quiero eliminar los ingresos = 0</span>

kernel_data_<span class="dv">3</span> <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">sample_n</span>(<span class="dv">10</span>)</code></pre>
<pre><code>##    REGION  P47T T_VI TOT_P12   P21 PONDII  CH04       Tipo_ingreso Ingreso
## 1      44 20000    0       0 20000    180 Mujer    ingreso_laboral   20000
## 2      40  7400 5600       0  1800    404 Varon ingreso_no_laboral    5600
## 3      42 10000    0       0 10000     96 Mujer    ingreso_laboral   10000
## 4       1 41000 8000       0 33000   3451 Mujer ingreso_no_laboral    8000
## 5      40 27000    0       0 27000    208 Mujer    ingreso_laboral   27000
## 6      43 45000    0       0 30000    799 Mujer    ingreso_laboral   30000
## 7       1 11500 9500       0  2000    874 Mujer ingreso_no_laboral    9500
## 8      42 35000    0       0 35000    618 Varon    ingreso_laboral   35000
## 9      40 30000    0       0 20000    344 Mujer    ingreso_laboral   20000
## 10     41  8500    0       0  8500    328 Mujer    ingreso_laboral    8500</code></pre>
<pre class="sourceCode r"><code class="sourceCode r">  <span class="kw">ggplot</span>(kernel_data_<span class="dv">3</span>, <span class="kw">aes</span>(
  <span class="dt">x =</span> Ingreso,
  <span class="dt">weights =</span> PONDII,
  <span class="dt">group =</span> Tipo_ingreso,
  <span class="dt">fill =</span> Tipo_ingreso)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.7</span>,<span class="dt">adjust =</span><span class="dv">2</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Distribución del ingreso&quot;</span>, <span class="dt">y=</span><span class="st">&quot;&quot;</span>,
       <span class="dt">title=</span><span class="st">&quot; Total según tipo de ingreso y sexo&quot;</span>, 
       <span class="dt">caption =</span> <span class="st">&quot;Fuente: Encuesta Permanente de Hogares&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gdocs</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,
        <span class="dt">plot.title      =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">12</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span><span class="st"> </span>CH04, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>)</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-82-1.png" width="960" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;../resultados/Kernel_2.png&quot;</span>,<span class="dt">scale =</span> <span class="dv">2</span>)</code></pre>
<p>En este tipo de gráficos, importa mucho qué variable se utiliza para <em>facetear</em> y qué variable para agrupar, ya que la construcción de la distribución es diferente.</p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(kernel_data_<span class="dv">3</span>, <span class="kw">aes</span>(
  <span class="dt">x =</span> Ingreso,
  <span class="dt">weights =</span> PONDII,
  <span class="dt">group =</span> CH04,
  <span class="dt">fill =</span> CH04)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_density</span>(<span class="dt">alpha=</span><span class="fl">0.7</span>,<span class="dt">adjust =</span><span class="dv">2</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Distribución del ingreso&quot;</span>, <span class="dt">y=</span><span class="st">&quot;&quot;</span>,
       <span class="dt">title=</span><span class="st">&quot; Total según tipo de ingreso y sexo&quot;</span>, 
       <span class="dt">caption =</span> <span class="st">&quot;Fuente: Encuesta Permanente de Hogares&quot;</span>)<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">theme_tufte</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">scale_fill_gdocs</span>()<span class="op">+</span>
<span class="st">  </span><span class="kw">theme</span>(<span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,
        <span class="dt">plot.title      =</span> <span class="kw">element_text</span>(<span class="dt">size=</span><span class="dv">12</span>))<span class="op">+</span>
<span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>Tipo_ingreso, <span class="dt">scales =</span> <span class="st">&quot;free&quot;</span>)</code></pre>
<p><img src="bookdown_files/figure-html/unnamed-chunk-83-1.png" width="960" /></p>
<pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggsave</span>(<span class="dt">filename =</span> <span class="st">&quot;../resultados/Kernel_3.png&quot;</span>,<span class="dt">scale =</span> <span class="dv">2</span>)</code></pre>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="explicacion-2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="documentacion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["bookdown.pdf", "bookdown.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
